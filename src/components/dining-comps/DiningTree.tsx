import { useState } from 'react';
import Jane from '../../assets/dining_guests/Jane.png';
import Lea from '../../assets/dining_guests/Lea.png';
import May from '../../assets/dining_guests/May.png';
import Ryan from '../../assets/dining_guests/Ryan.png';
import Sam from '../../assets/dining_guests/Sam.png';
import '../../styles/DiningTree.scss';

function DiningTree(): JSX.Element {
  const [showAnimationButton, setShowAnimationButton] = useState(true);
  // States for each node and value
  const [showLeaAnimation, setShowLeaAnimation] = useState(false);
  const [showLeaCollapse, setShowLeaCollapse] = useState(false);
  const [showLeaMay, setShowLeaMay] = useState(false);
  const [showLeaJane, setShowLeaJane] = useState(false);
  const [showLeaValue, setShowLeaValue] = useState(true);

  const [showMayAnimation, setShowMayAnimation] = useState(false);
  const [showMayCollapse, setShowMayCollapse] = useState(false);
  const [showMayRyan, setShowMayRyan] = useState(false);
  const [showMayNull, setShowMayNull] = useState(false);
  const [showMayValue, setShowMayValue] = useState(true);

  const [showRyanAnimation, setShowRyanAnimation] = useState(false);
  const [showRyanCollapse, setShowRyanCollapse] = useState(false);
  const [showRyanValue, setShowRyanValue] = useState(true);

  const [showLeftNull, setShowLeftNull] = useState(false);
  const [showLeftNullCollapse, setShowLeftNullCollapse] = useState(false);
  const [showLeftNullValue, setShowLeftNullValue] = useState(true);

  const [showJaneAnimation, setShowJaneAnimation] = useState(false);
  const [showJaneCollapse, setShowJaneCollapse] = useState(false);
  const [showJaneSam, setShowJaneSam] = useState(false);
  const [showJaneValue, setShowJaneValue] = useState(true);

  const [showSamAnimation, setShowSamAnimation] = useState(false);
  const [showSamCollapse, setShowSamCollapse] = useState(false);
  const [showJaneNull, setShowJaneNull] = useState(false);
  const [showSamValue, setShowSamValue] = useState(true);

  const [showRightNull, setShowRightNull] = useState(false);
  const [showRightNullCollapse, setShowRightNullCollapse] = useState(false);
  const [showRightNullValue, setShowRightNullValue] = useState(true);

  class Friend {
    minutes: number;
    name: string;
    imageUrl: string;
    left: Friend | null;
    right: Friend | null;

    constructor(
      minutes: number,
      name: string,
      imageUrl: string,
      left: Friend | null = null,
      right: Friend | null = null
    ) {
      this.minutes = minutes;
      this.name = name;
      this.imageUrl = imageUrl;
      this.left = left;
      this.right = right;
    }
  }

  // class Tree {
  //     people: (Friend | null)[];
  //     root: (Friend | null);

  //     constructor(
  //         people: (Friend | null)[] = [],
  //         root: (Friend | null)
  //     ) {
  //         this.people = people;
  //         this.root = root;
  //     }
  // }

  //Friends array
  const friends: Friend[] = [
    new Friend(10, 'Lea', Lea), //0
    new Friend(7, 'May', May), // 1
    new Friend(15, 'Jane', Jane), //2
    new Friend(5, 'Ryan', Ryan), //3
    new Friend(12, 'Sam', Sam), // 4
  ];

  // Set relationships
  friends[0].left = friends[1];
  friends[0].right = friends[2];
  friends[1].left = friends[3];
  friends[1].right = null;
  friends[2].left = friends[4];
  friends[2].right = null;
  friends[3].left = null;
  friends[3].right = null;
  friends[4].left = null;
  friends[4].right = null;

  // const postOrderSum = (Friend: (Friend | null)):number => {

  //     if (Friend === null) {
  //         return 0;
  //     }
  //         const leftMinutes = postOrderSum(Friend.left);
  //         const rightMinutes = postOrderSum(Friend.right);
  //         return leftMinutes + rightMinutes + Friend.minutes;
  //     };

  // All nodes collapse at the start of the animation
  const collapseNodes = () => {
    setShowLeaCollapse(!showLeaCollapse);
    setShowLeaValue(false);
    setShowMayCollapse(!showMayCollapse);
    setShowMayValue(false);
    setShowRyanCollapse(!showRyanCollapse);
    setShowRyanValue(false);
    setShowLeftNullCollapse(!showLeftNullCollapse);
    setShowLeftNullValue(false);
    setShowJaneCollapse(!showJaneCollapse);
    setShowJaneValue(false);
    setShowSamCollapse(!showSamCollapse);
    setShowSamValue(false);
    setShowRightNullCollapse(!showRightNullCollapse);
    setShowRightNullValue(false);
  };

  const animateSVG = () => {
    setShowAnimationButton(!showAnimationButton);
    collapseNodes();
    setTimeout(() => {
      setShowLeaCollapse(false);
    }, 800);
    setShowLeaCollapse(false);
    setShowLeaAnimation(!showLeaAnimation);
    setTimeout(() => {
      setShowLeaMay(!showLeaMay);
    }, 1200); // Adjust the delay as needed
    setTimeout(() => {
      setShowMayCollapse(false);
      setShowMayAnimation(!showMayAnimation);
    }, 1400);
    setTimeout(() => {
      setShowMayRyan(!showMayRyan);
    }, 2200);
    setTimeout(() => {
      setShowRyanCollapse(false);
      setShowRyanAnimation(!showRyanAnimation);
      setShowRyanValue(true);
      setTimeout(() => {
        setShowRyanAnimation(false);
      }, 1500);
      setTimeout(() => {
        setShowMayRyan(false);
      }, 2800);
    }, 2800);
    setTimeout(() => {
      setShowMayNull(!showMayNull);
    }, 6000);
    setTimeout(() => {
      setShowLeftNullCollapse(false);
      setShowLeftNull(!showLeftNull);
      setShowLeftNullValue(true);
      setTimeout(() => {
        setShowLeftNull(false);
      }, 1500);
      setTimeout(() => {
        setShowMayNull(false);
        setShowMayValue(true);
      }, 2000);
      setTimeout(() => {
        setShowMayAnimation(false);
      }, 2500);
      setTimeout(() => {
        setShowLeaMay(false);
      }, 3000);
    }, 6400);
    setTimeout(() => {
      setShowLeaJane(!showLeaJane);
    }, 9800);
    setTimeout(() => {
      setShowJaneCollapse(false);
      setShowJaneAnimation(!showJaneAnimation);
    }, 10000);
    setTimeout(() => {
      setShowJaneSam(!showLeaJane);
    }, 11000);
    setTimeout(() => {
      setShowSamCollapse(false);
      setShowSamAnimation(!showSamAnimation);
      setShowSamValue(true);
      setTimeout(() => {
        setShowSamAnimation(false);
      }, 1500);
      setTimeout(() => {
        setShowJaneSam(false);
      }, 2100);
    }, 11200);
    setTimeout(() => {
      setShowJaneNull(!showJaneNull);
    }, 13800);
    setTimeout(() => {
      setShowRightNullCollapse(false);
      setShowRightNull(!showRightNull);
      setShowRightNullValue(true);
      setTimeout(() => {
        setShowRightNull(false);
      }, 1500);
      setTimeout(() => {
        setShowJaneNull(false);
      }, 2600);
      setTimeout(() => {
        setShowJaneValue(true);
      }, 3000);
      setTimeout(() => {
        setShowJaneAnimation(false);
      }, 3600);
      setTimeout(() => {
        setShowLeaJane(false);
      }, 4000);
      setTimeout(() => {
        setShowLeaValue(true);
      }, 4500);
      setTimeout(() => {
        setShowLeaAnimation(false);
        setShowAnimationButton(true);
      }, 4800);
    }, 14000);
  };
  return (
    <div>
      <svg
        width="600"
        height="400"
        viewBox="0 0 885 694"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        {/* JANE */}
        <circle
          className={
            showJaneCollapse
              ? 'jane collapse'
              : showJaneAnimation
              ? 'jane animate'
              : 'jane'
          }
          cx="665.5"
          cy="315.5"
          r="78"
          fill="white"
          stroke="black"
          strokeWidth="3"
        />
        <path
          className={'Jane-text'}
          d="M636.486 283.675V301.21C636.486 303.38 635.821 305.095 634.491 306.355C633.185 307.615 631.458 308.245 629.311 308.245C627.165 308.245 625.426 307.615 624.096 306.355C622.79 305.095 622.136 303.38 622.136 301.21H626.161C626.185 302.283 626.453 303.135 626.966 303.765C627.503 304.395 628.285 304.71 629.311 304.71C630.338 304.71 631.12 304.395 631.656 303.765C632.193 303.112 632.461 302.26 632.461 301.21V283.675H636.486ZM641.647 298.27C641.647 296.333 642.044 294.618 642.837 293.125C643.654 291.632 644.75 290.477 646.127 289.66C647.527 288.82 649.067 288.4 650.747 288.4C652.264 288.4 653.582 288.703 654.702 289.31C655.845 289.893 656.755 290.628 657.432 291.515V288.715H661.457V308H657.432V305.13C656.755 306.04 655.834 306.798 654.667 307.405C653.5 308.012 652.17 308.315 650.677 308.315C649.02 308.315 647.504 307.895 646.127 307.055C644.75 306.192 643.654 305.002 642.837 303.485C642.044 301.945 641.647 300.207 641.647 298.27ZM657.432 298.34C657.432 297.01 657.152 295.855 656.592 294.875C656.055 293.895 655.344 293.148 654.457 292.635C653.57 292.122 652.614 291.865 651.587 291.865C650.56 291.865 649.604 292.122 648.717 292.635C647.83 293.125 647.107 293.86 646.547 294.84C646.01 295.797 645.742 296.94 645.742 298.27C645.742 299.6 646.01 300.767 646.547 301.77C647.107 302.773 647.83 303.543 648.717 304.08C649.627 304.593 650.584 304.85 651.587 304.85C652.614 304.85 653.57 304.593 654.457 304.08C655.344 303.567 656.055 302.82 656.592 301.84C657.152 300.837 657.432 299.67 657.432 298.34ZM676.428 288.4C677.944 288.4 679.298 288.715 680.488 289.345C681.701 289.975 682.646 290.908 683.323 292.145C683.999 293.382 684.338 294.875 684.338 296.625V308H680.383V297.22C680.383 295.493 679.951 294.175 679.088 293.265C678.224 292.332 677.046 291.865 675.553 291.865C674.059 291.865 672.869 292.332 671.983 293.265C671.119 294.175 670.688 295.493 670.688 297.22V308H666.698V288.715H670.688V290.92C671.341 290.127 672.169 289.508 673.173 289.065C674.199 288.622 675.284 288.4 676.428 288.4ZM707.102 297.885C707.102 298.608 707.056 299.262 706.962 299.845H692.227C692.344 301.385 692.916 302.622 693.942 303.555C694.969 304.488 696.229 304.955 697.722 304.955C699.869 304.955 701.386 304.057 702.272 302.26H706.577C705.994 304.033 704.932 305.492 703.392 306.635C701.876 307.755 699.986 308.315 697.722 308.315C695.879 308.315 694.222 307.907 692.752 307.09C691.306 306.25 690.162 305.083 689.322 303.59C688.506 302.073 688.097 300.323 688.097 298.34C688.097 296.357 688.494 294.618 689.287 293.125C690.104 291.608 691.236 290.442 692.682 289.625C694.152 288.808 695.832 288.4 697.722 288.4C699.542 288.4 701.164 288.797 702.587 289.59C704.011 290.383 705.119 291.503 705.912 292.95C706.706 294.373 707.102 296.018 707.102 297.885ZM702.937 296.625C702.914 295.155 702.389 293.977 701.362 293.09C700.336 292.203 699.064 291.76 697.547 291.76C696.171 291.76 694.992 292.203 694.012 293.09C693.032 293.953 692.449 295.132 692.262 296.625H702.937ZM648.78 339.125V335.485H656.06V361H652.035V339.125H648.78ZM677.991 338.915H666.266V345.88C666.756 345.227 667.48 344.678 668.436 344.235C669.416 343.792 670.455 343.57 671.551 343.57C673.511 343.57 675.098 343.99 676.311 344.83C677.548 345.67 678.423 346.732 678.936 348.015C679.473 349.298 679.741 350.652 679.741 352.075C679.741 353.802 679.403 355.342 678.726 356.695C678.073 358.025 677.081 359.075 675.751 359.845C674.445 360.615 672.835 361 670.921 361C668.378 361 666.336 360.37 664.796 359.11C663.256 357.85 662.335 356.182 662.031 354.105H665.916C666.173 355.202 666.745 356.077 667.631 356.73C668.518 357.36 669.626 357.675 670.956 357.675C672.613 357.675 673.85 357.173 674.666 356.17C675.506 355.167 675.926 353.837 675.926 352.18C675.926 350.5 675.506 349.217 674.666 348.33C673.826 347.42 672.59 346.965 670.956 346.965C669.813 346.965 668.845 347.257 668.051 347.84C667.281 348.4 666.721 349.17 666.371 350.15H662.591V335.415H677.991V338.915Z"
          fill="black"
        />
        <path
          className={'Jane-value'}
          d="M648.412 432.575C650.652 430.638 652.414 429.052 653.697 427.815C655.004 426.555 656.089 425.248 656.952 423.895C657.816 422.542 658.247 421.188 658.247 419.835C658.247 418.435 657.909 417.338 657.232 416.545C656.579 415.752 655.541 415.355 654.117 415.355C652.741 415.355 651.667 415.798 650.897 416.685C650.151 417.548 649.754 418.715 649.707 420.185H645.857C645.927 417.525 646.721 415.495 648.237 414.095C649.777 412.672 651.726 411.96 654.082 411.96C656.626 411.96 658.609 412.66 660.032 414.06C661.479 415.46 662.202 417.327 662.202 419.66C662.202 421.34 661.771 422.962 660.907 424.525C660.067 426.065 659.052 427.453 657.862 428.69C656.696 429.903 655.202 431.315 653.382 432.925L651.807 434.325H662.902V437.65H645.892V434.745L648.412 432.575ZM682.578 415.565L672.848 438H668.823L678.658 415.985H665.708V412.59H682.578V415.565Z"
          fill={showJaneValue ? '#FF0000' : ''}
        />

        {/* LEFT NULL */}
        <circle
          className={
            showLeftNullCollapse
              ? 'left-null collapse'
              : showLeftNull
              ? 'left-null animate'
              : 'left-null'
          }
          cx="349.5"
          cy="571.5"
          r="78"
          fill="black"
          stroke="black"
          strokeWidth="3"
        />
        <path
          d="M326.172 587H322.182L310.177 568.835V587H306.187V562.64H310.177L322.182 580.77V562.64H326.172V587ZM339.777 587.315C337.957 587.315 336.312 586.907 334.842 586.09C333.372 585.25 332.217 584.083 331.377 582.59C330.537 581.073 330.117 579.323 330.117 577.34C330.117 575.38 330.549 573.642 331.412 572.125C332.275 570.608 333.454 569.442 334.947 568.625C336.44 567.808 338.109 567.4 339.952 567.4C341.795 567.4 343.464 567.808 344.957 568.625C346.45 569.442 347.629 570.608 348.492 572.125C349.355 573.642 349.787 575.38 349.787 577.34C349.787 579.3 349.344 581.038 348.457 582.555C347.57 584.072 346.357 585.25 344.817 586.09C343.3 586.907 341.62 587.315 339.777 587.315ZM339.777 583.85C340.804 583.85 341.76 583.605 342.647 583.115C343.557 582.625 344.292 581.89 344.852 580.91C345.412 579.93 345.692 578.74 345.692 577.34C345.692 575.94 345.424 574.762 344.887 573.805C344.35 572.825 343.639 572.09 342.752 571.6C341.865 571.11 340.909 570.865 339.882 570.865C338.855 570.865 337.899 571.11 337.012 571.6C336.149 572.09 335.46 572.825 334.947 573.805C334.434 574.762 334.177 575.94 334.177 577.34C334.177 579.417 334.702 581.027 335.752 582.17C336.825 583.29 338.167 583.85 339.777 583.85ZM363.461 567.4C364.978 567.4 366.331 567.715 367.521 568.345C368.735 568.975 369.68 569.908 370.356 571.145C371.033 572.382 371.371 573.875 371.371 575.625V587H367.416V576.22C367.416 574.493 366.985 573.175 366.121 572.265C365.258 571.332 364.08 570.865 362.586 570.865C361.093 570.865 359.903 571.332 359.016 572.265C358.153 573.175 357.721 574.493 357.721 576.22V587H353.731V567.715H357.721V569.92C358.375 569.127 359.203 568.508 360.206 568.065C361.233 567.622 362.318 567.4 363.461 567.4ZM394.136 576.885C394.136 577.608 394.089 578.262 393.996 578.845H379.261C379.378 580.385 379.949 581.622 380.976 582.555C382.003 583.488 383.263 583.955 384.756 583.955C386.903 583.955 388.419 583.057 389.306 581.26H393.611C393.028 583.033 391.966 584.492 390.426 585.635C388.909 586.755 387.019 587.315 384.756 587.315C382.913 587.315 381.256 586.907 379.786 586.09C378.339 585.25 377.196 584.083 376.356 582.59C375.539 581.073 375.131 579.323 375.131 577.34C375.131 575.357 375.528 573.618 376.321 572.125C377.138 570.608 378.269 569.442 379.716 568.625C381.186 567.808 382.866 567.4 384.756 567.4C386.576 567.4 388.198 567.797 389.621 568.59C391.044 569.383 392.153 570.503 392.946 571.95C393.739 573.373 394.136 575.018 394.136 576.885ZM389.971 575.625C389.948 574.155 389.423 572.977 388.396 572.09C387.369 571.203 386.098 570.76 384.581 570.76C383.204 570.76 382.026 571.203 381.046 572.09C380.066 572.953 379.483 574.132 379.296 575.625H389.971Z"
          fill="white"
        />
        <path
          d="M795.389 680.91C795.389 676.873 796.066 673.723 797.419 671.46C798.796 669.173 801.152 668.03 804.489 668.03C807.826 668.03 810.171 669.173 811.524 671.46C812.901 673.723 813.589 676.873 813.589 680.91C813.589 684.993 812.901 688.19 811.524 690.5C810.171 692.787 807.826 693.93 804.489 693.93C801.152 693.93 798.796 692.787 797.419 690.5C796.066 688.19 795.389 684.993 795.389 680.91ZM809.669 680.91C809.669 679.02 809.541 677.422 809.284 676.115C809.051 674.808 808.561 673.747 807.814 672.93C807.067 672.09 805.959 671.67 804.489 671.67C803.019 671.67 801.911 672.09 801.164 672.93C800.417 673.747 799.916 674.808 799.659 676.115C799.426 677.422 799.309 679.02 799.309 680.91C799.309 682.87 799.426 684.515 799.659 685.845C799.892 687.175 800.382 688.248 801.129 689.065C801.899 689.882 803.019 690.29 804.489 690.29C805.959 690.29 807.067 689.882 807.814 689.065C808.584 688.248 809.086 687.175 809.319 685.845C809.552 684.515 809.669 682.87 809.669 680.91Z"
          fill={showRightNullValue ? '#FF0000' : ''}
        />

        {/* Right Null */}
        <circle
          className={
            showRightNullCollapse
              ? 'right-null collapse'
              : showRightNull
              ? 'right-null animate'
              : 'Right-Null'
          }
          cx="805.5"
          cy="571.5"
          r="78"
          fill="black"
          stroke="black"
          strokeWidth="3"
        />
        <path
          d="M782.172 587H778.182L766.177 568.835V587H762.187V562.64H766.177L778.182 580.77V562.64H782.172V587ZM795.777 587.315C793.957 587.315 792.312 586.907 790.842 586.09C789.372 585.25 788.217 584.083 787.377 582.59C786.537 581.073 786.117 579.323 786.117 577.34C786.117 575.38 786.549 573.642 787.412 572.125C788.275 570.608 789.454 569.442 790.947 568.625C792.44 567.808 794.109 567.4 795.952 567.4C797.795 567.4 799.464 567.808 800.957 568.625C802.45 569.442 803.629 570.608 804.492 572.125C805.355 573.642 805.787 575.38 805.787 577.34C805.787 579.3 805.344 581.038 804.457 582.555C803.57 584.072 802.357 585.25 800.817 586.09C799.3 586.907 797.62 587.315 795.777 587.315ZM795.777 583.85C796.804 583.85 797.76 583.605 798.647 583.115C799.557 582.625 800.292 581.89 800.852 580.91C801.412 579.93 801.692 578.74 801.692 577.34C801.692 575.94 801.424 574.762 800.887 573.805C800.35 572.825 799.639 572.09 798.752 571.6C797.865 571.11 796.909 570.865 795.882 570.865C794.855 570.865 793.899 571.11 793.012 571.6C792.149 572.09 791.46 572.825 790.947 573.805C790.434 574.762 790.177 575.94 790.177 577.34C790.177 579.417 790.702 581.027 791.752 582.17C792.825 583.29 794.167 583.85 795.777 583.85ZM819.461 567.4C820.978 567.4 822.331 567.715 823.521 568.345C824.735 568.975 825.68 569.908 826.356 571.145C827.033 572.382 827.371 573.875 827.371 575.625V587H823.416V576.22C823.416 574.493 822.985 573.175 822.121 572.265C821.258 571.332 820.08 570.865 818.586 570.865C817.093 570.865 815.903 571.332 815.016 572.265C814.153 573.175 813.721 574.493 813.721 576.22V587H809.731V567.715H813.721V569.92C814.375 569.127 815.203 568.508 816.206 568.065C817.233 567.622 818.318 567.4 819.461 567.4ZM850.136 576.885C850.136 577.608 850.089 578.262 849.996 578.845H835.261C835.377 580.385 835.949 581.622 836.976 582.555C838.002 583.488 839.262 583.955 840.756 583.955C842.902 583.955 844.419 583.057 845.306 581.26H849.611C849.027 583.033 847.966 584.492 846.426 585.635C844.909 586.755 843.019 587.315 840.756 587.315C838.912 587.315 837.256 586.907 835.786 586.09C834.339 585.25 833.196 584.083 832.356 582.59C831.539 581.073 831.131 579.323 831.131 577.34C831.131 575.357 831.527 573.618 832.321 572.125C833.137 570.608 834.269 569.442 835.716 568.625C837.186 567.808 838.866 567.4 840.756 567.4C842.576 567.4 844.197 567.797 845.621 568.59C847.044 569.383 848.152 570.503 848.946 571.95C849.739 573.373 850.136 575.018 850.136 576.885ZM845.971 575.625C845.947 574.155 845.422 572.977 844.396 572.09C843.369 571.203 842.097 570.76 840.581 570.76C839.204 570.76 838.026 571.203 837.046 572.09C836.066 572.953 835.482 574.132 835.296 575.625H845.971Z"
          fill="white"
        />
        <path
          d="M339.389 680.91C339.389 676.873 340.066 673.723 341.419 671.46C342.796 669.173 345.152 668.03 348.489 668.03C351.826 668.03 354.171 669.173 355.524 671.46C356.901 673.723 357.589 676.873 357.589 680.91C357.589 684.993 356.901 688.19 355.524 690.5C354.171 692.787 351.826 693.93 348.489 693.93C345.152 693.93 342.796 692.787 341.419 690.5C340.066 688.19 339.389 684.993 339.389 680.91ZM353.669 680.91C353.669 679.02 353.541 677.422 353.284 676.115C353.051 674.808 352.561 673.747 351.814 672.93C351.067 672.09 349.959 671.67 348.489 671.67C347.019 671.67 345.911 672.09 345.164 672.93C344.417 673.747 343.916 674.808 343.659 676.115C343.426 677.422 343.309 679.02 343.309 680.91C343.309 682.87 343.426 684.515 343.659 685.845C343.892 687.175 344.382 688.248 345.129 689.065C345.899 689.882 347.019 690.29 348.489 690.29C349.959 690.29 351.067 689.882 351.814 689.065C352.584 688.248 353.086 687.175 353.319 685.845C353.552 684.515 353.669 682.87 353.669 680.91Z"
          fill={showLeftNullValue ? '#FF0000' : ''}
        />

        {/* SAM */}
        <circle
          className={
            showSamCollapse
              ? 'sam collapse'
              : showSamAnimation
              ? 'sam animate'
              : 'sam'
          }
          cx="535.5"
          cy="571.5"
          r="78"
          fill="white"
          stroke="black"
          strokeWidth="3"
        />
        <path
          d="M504.535 564.245C502.901 564.245 501.431 563.965 500.125 563.405C498.818 562.822 497.791 562.005 497.045 560.955C496.298 559.905 495.925 558.68 495.925 557.28H500.195C500.288 558.33 500.696 559.193 501.42 559.87C502.166 560.547 503.205 560.885 504.535 560.885C505.911 560.885 506.985 560.558 507.755 559.905C508.525 559.228 508.91 558.365 508.91 557.315C508.91 556.498 508.665 555.833 508.175 555.32C507.708 554.807 507.113 554.41 506.39 554.13C505.69 553.85 504.71 553.547 503.45 553.22C501.863 552.8 500.568 552.38 499.565 551.96C498.585 551.517 497.745 550.84 497.045 549.93C496.345 549.02 495.995 547.807 495.995 546.29C495.995 544.89 496.345 543.665 497.045 542.615C497.745 541.565 498.725 540.76 499.985 540.2C501.245 539.64 502.703 539.36 504.36 539.36C506.716 539.36 508.641 539.955 510.135 541.145C511.651 542.312 512.491 543.922 512.655 545.975H508.245C508.175 545.088 507.755 544.33 506.985 543.7C506.215 543.07 505.2 542.755 503.94 542.755C502.796 542.755 501.863 543.047 501.14 543.63C500.416 544.213 500.055 545.053 500.055 546.15C500.055 546.897 500.276 547.515 500.72 548.005C501.186 548.472 501.77 548.845 502.47 549.125C503.17 549.405 504.126 549.708 505.34 550.035C506.95 550.478 508.256 550.922 509.26 551.365C510.286 551.808 511.15 552.497 511.85 553.43C512.573 554.34 512.935 555.565 512.935 557.105C512.935 558.342 512.596 559.508 511.92 560.605C511.266 561.702 510.298 562.588 509.015 563.265C507.755 563.918 506.261 564.245 504.535 564.245ZM516.313 554.27C516.313 552.333 516.709 550.618 517.503 549.125C518.319 547.632 519.416 546.477 520.793 545.66C522.193 544.82 523.733 544.4 525.413 544.4C526.929 544.4 528.248 544.703 529.368 545.31C530.511 545.893 531.421 546.628 532.098 547.515V544.715H536.123V564H532.098V561.13C531.421 562.04 530.499 562.798 529.333 563.405C528.166 564.012 526.836 564.315 525.343 564.315C523.686 564.315 522.169 563.895 520.793 563.055C519.416 562.192 518.319 561.002 517.503 559.485C516.709 557.945 516.313 556.207 516.313 554.27ZM532.098 554.34C532.098 553.01 531.818 551.855 531.258 550.875C530.721 549.895 530.009 549.148 529.123 548.635C528.236 548.122 527.279 547.865 526.253 547.865C525.226 547.865 524.269 548.122 523.383 548.635C522.496 549.125 521.773 549.86 521.213 550.84C520.676 551.797 520.408 552.94 520.408 554.27C520.408 555.6 520.676 556.767 521.213 557.77C521.773 558.773 522.496 559.543 523.383 560.08C524.293 560.593 525.249 560.85 526.253 560.85C527.279 560.85 528.236 560.593 529.123 560.08C530.009 559.567 530.721 558.82 531.258 557.84C531.818 556.837 532.098 555.67 532.098 554.34ZM564.708 544.4C566.225 544.4 567.578 544.715 568.768 545.345C569.982 545.975 570.927 546.908 571.603 548.145C572.303 549.382 572.653 550.875 572.653 552.625V564H568.698V553.22C568.698 551.493 568.267 550.175 567.403 549.265C566.54 548.332 565.362 547.865 563.868 547.865C562.375 547.865 561.185 548.332 560.298 549.265C559.435 550.175 559.003 551.493 559.003 553.22V564H555.048V553.22C555.048 551.493 554.617 550.175 553.753 549.265C552.89 548.332 551.712 547.865 550.218 547.865C548.725 547.865 547.535 548.332 546.648 549.265C545.785 550.175 545.353 551.493 545.353 553.22V564H541.363V544.715H545.353V546.92C546.007 546.127 546.835 545.508 547.838 545.065C548.842 544.622 549.915 544.4 551.058 544.4C552.598 544.4 553.975 544.727 555.188 545.38C556.402 546.033 557.335 546.978 557.988 548.215C558.572 547.048 559.482 546.127 560.718 545.45C561.955 544.75 563.285 544.4 564.708 544.4ZM519.857 595.125V591.485H527.137V617H523.112V595.125H519.857ZM534.823 611.575C537.063 609.638 538.825 608.052 540.108 606.815C541.415 605.555 542.5 604.248 543.363 602.895C544.226 601.542 544.658 600.188 544.658 598.835C544.658 597.435 544.32 596.338 543.643 595.545C542.99 594.752 541.951 594.355 540.528 594.355C539.151 594.355 538.078 594.798 537.308 595.685C536.561 596.548 536.165 597.715 536.118 599.185H532.268C532.338 596.525 533.131 594.495 534.648 593.095C536.188 591.672 538.136 590.96 540.493 590.96C543.036 590.96 545.02 591.66 546.443 593.06C547.89 594.46 548.613 596.327 548.613 598.66C548.613 600.34 548.181 601.962 547.318 603.525C546.478 605.065 545.463 606.453 544.273 607.69C543.106 608.903 541.613 610.315 539.793 611.925L538.218 613.325H549.313V616.65H532.303V613.745L534.823 611.575Z"
          fill="black"
        />
        <path
          d="M519.857 672.125V668.485H527.137V694H523.112V672.125H519.857ZM534.823 688.575C537.063 686.638 538.825 685.052 540.108 683.815C541.415 682.555 542.5 681.248 543.363 679.895C544.226 678.542 544.658 677.188 544.658 675.835C544.658 674.435 544.32 673.338 543.643 672.545C542.99 671.752 541.951 671.355 540.528 671.355C539.151 671.355 538.078 671.798 537.308 672.685C536.561 673.548 536.165 674.715 536.118 676.185H532.268C532.338 673.525 533.131 671.495 534.648 670.095C536.188 668.672 538.136 667.96 540.493 667.96C543.036 667.96 545.02 668.66 546.443 670.06C547.89 671.46 548.613 673.327 548.613 675.66C548.613 677.34 548.181 678.962 547.318 680.525C546.478 682.065 545.463 683.453 544.273 684.69C543.106 685.903 541.613 687.315 539.793 688.925L538.218 690.325H549.313V693.65H532.303V690.745L534.823 688.575Z"
          fill={showSamValue ? '#FF0000' : ''}
        />

        {/* MAY */}
        <circle
          className={
            showMayCollapse
              ? 'may collapse'
              : showMayAnimation
              ? 'may animate'
              : 'may'
          }
          cx="210.5"
          cy="315.5"
          r="78"
          fill="white"
          stroke="black"
          strokeWidth="3"
        />
        <path
          d="M201.267 283.675V308H197.277V291.34L189.857 308H187.092L179.637 291.34V308H175.647V283.675H179.952L188.492 302.75L196.997 283.675H201.267ZM205.181 298.27C205.181 296.333 205.578 294.618 206.371 293.125C207.188 291.632 208.285 290.477 209.661 289.66C211.061 288.82 212.601 288.4 214.281 288.4C215.798 288.4 217.116 288.703 218.236 289.31C219.38 289.893 220.29 290.628 220.966 291.515V288.715H224.991V308H220.966V305.13C220.29 306.04 219.368 306.798 218.201 307.405C217.035 308.012 215.705 308.315 214.211 308.315C212.555 308.315 211.038 307.895 209.661 307.055C208.285 306.192 207.188 305.002 206.371 303.485C205.578 301.945 205.181 300.207 205.181 298.27ZM220.966 298.34C220.966 297.01 220.686 295.855 220.126 294.875C219.59 293.895 218.878 293.148 217.991 292.635C217.105 292.122 216.148 291.865 215.121 291.865C214.095 291.865 213.138 292.122 212.251 292.635C211.365 293.125 210.641 293.86 210.081 294.84C209.545 295.797 209.276 296.94 209.276 298.27C209.276 299.6 209.545 300.767 210.081 301.77C210.641 302.773 211.365 303.543 212.251 304.08C213.161 304.593 214.118 304.85 215.121 304.85C216.148 304.85 217.105 304.593 217.991 304.08C218.878 303.567 219.59 302.82 220.126 301.84C220.686 300.837 220.966 299.67 220.966 298.34ZM247.592 288.715L235.762 317.065H231.632L235.552 307.685L227.957 288.715H232.402L237.827 303.415L243.462 288.715H247.592ZM218.978 338.565L209.248 361H205.223L215.058 338.985H202.108V335.59H218.978V338.565Z"
          fill="black"
        />
        <path
          d="M195.857 416.125V412.485H203.137V438H199.112V416.125H195.857ZM210.823 432.575C213.063 430.638 214.825 429.052 216.108 427.815C217.415 426.555 218.5 425.248 219.363 423.895C220.226 422.542 220.658 421.188 220.658 419.835C220.658 418.435 220.32 417.338 219.643 416.545C218.99 415.752 217.951 415.355 216.528 415.355C215.151 415.355 214.078 415.798 213.308 416.685C212.561 417.548 212.165 418.715 212.118 420.185H208.268C208.338 417.525 209.131 415.495 210.648 414.095C212.188 412.672 214.136 411.96 216.493 411.96C219.036 411.96 221.02 412.66 222.443 414.06C223.89 415.46 224.613 417.327 224.613 419.66C224.613 421.34 224.181 422.962 223.318 424.525C222.478 426.065 221.463 427.453 220.273 428.69C219.106 429.903 217.613 431.315 215.793 432.925L214.218 434.325H225.313V437.65H208.303V434.745L210.823 432.575Z"
          fill={showMayValue ? '#FF0000' : ''}
        />

        {/* Ryan */}
        <circle
          className={
            showRyanCollapse
              ? 'ryan collapse'
              : showRyanAnimation
              ? 'ryan animate'
              : 'ryan'
          }
          cx="79.5"
          cy="571.5"
          r="78"
          fill="white"
          stroke="black"
          strokeWidth="3"
        />
        <path
          d="M50.2922 564L44.6922 554.27H41.6472V564H37.6572V539.675H46.0572C47.9239 539.675 49.4989 540.002 50.7822 540.655C52.0889 541.308 53.0572 542.183 53.6872 543.28C54.3406 544.377 54.6672 545.602 54.6672 546.955C54.6672 548.542 54.2006 549.988 53.2672 551.295C52.3572 552.578 50.9456 553.453 49.0322 553.92L55.0522 564H50.2922ZM41.6472 551.085H46.0572C47.5506 551.085 48.6706 550.712 49.4172 549.965C50.1872 549.218 50.5722 548.215 50.5722 546.955C50.5722 545.695 50.1989 544.715 49.4522 544.015C48.7056 543.292 47.5739 542.93 46.0572 542.93H41.6472V551.085ZM77.1315 544.715L65.3015 573.065H61.1715L65.0915 563.685L57.4965 544.715H61.9415L67.3665 559.415L73.0015 544.715H77.1315ZM78.8126 554.27C78.8126 552.333 79.2092 550.618 80.0026 549.125C80.8192 547.632 81.9159 546.477 83.2926 545.66C84.6926 544.82 86.2326 544.4 87.9126 544.4C89.4292 544.4 90.7476 544.703 91.8676 545.31C93.0109 545.893 93.9209 546.628 94.5976 547.515V544.715H98.6226V564H94.5976V561.13C93.9209 562.04 92.9992 562.798 91.8326 563.405C90.6659 564.012 89.3359 564.315 87.8426 564.315C86.1859 564.315 84.6692 563.895 83.2926 563.055C81.9159 562.192 80.8192 561.002 80.0026 559.485C79.2092 557.945 78.8126 556.207 78.8126 554.27ZM94.5976 554.34C94.5976 553.01 94.3176 551.855 93.7576 550.875C93.2209 549.895 92.5092 549.148 91.6226 548.635C90.7359 548.122 89.7792 547.865 88.7526 547.865C87.7259 547.865 86.7692 548.122 85.8826 548.635C84.9959 549.125 84.2726 549.86 83.7126 550.84C83.1759 551.797 82.9076 552.94 82.9076 554.27C82.9076 555.6 83.1759 556.767 83.7126 557.77C84.2726 558.773 84.9959 559.543 85.8826 560.08C86.7926 560.593 87.7492 560.85 88.7526 560.85C89.7792 560.85 90.7359 560.593 91.6226 560.08C92.5092 559.567 93.2209 558.82 93.7576 557.84C94.3176 556.837 94.5976 555.67 94.5976 554.34ZM113.593 544.4C115.11 544.4 116.463 544.715 117.653 545.345C118.867 545.975 119.812 546.908 120.488 548.145C121.165 549.382 121.503 550.875 121.503 552.625V564H117.548V553.22C117.548 551.493 117.117 550.175 116.253 549.265C115.39 548.332 114.212 547.865 112.718 547.865C111.225 547.865 110.035 548.332 109.148 549.265C108.285 550.175 107.853 551.493 107.853 553.22V564H103.863V544.715H107.853V546.92C108.507 546.127 109.335 545.508 110.338 545.065C111.365 544.622 112.45 544.4 113.593 544.4ZM86.8732 594.915H75.1482V601.88C75.6382 601.227 76.3616 600.678 77.3182 600.235C78.2982 599.792 79.3366 599.57 80.4332 599.57C82.3932 599.57 83.9799 599.99 85.1932 600.83C86.4299 601.67 87.3049 602.732 87.8182 604.015C88.3549 605.298 88.6232 606.652 88.6232 608.075C88.6232 609.802 88.2849 611.342 87.6082 612.695C86.9549 614.025 85.9632 615.075 84.6332 615.845C83.3266 616.615 81.7166 617 79.8032 617C77.2599 617 75.2182 616.37 73.6782 615.11C72.1382 613.85 71.2166 612.182 70.9132 610.105H74.7982C75.0549 611.202 75.6266 612.077 76.5132 612.73C77.3999 613.36 78.5082 613.675 79.8382 613.675C81.4949 613.675 82.7316 613.173 83.5482 612.17C84.3882 611.167 84.8082 609.837 84.8082 608.18C84.8082 606.5 84.3882 605.217 83.5482 604.33C82.7082 603.42 81.4716 602.965 79.8382 602.965C78.6949 602.965 77.7266 603.257 76.9332 603.84C76.1632 604.4 75.6032 605.17 75.2532 606.15H71.4732V591.415H86.8732V594.915Z"
          fill="black"
        />
        <path
          d="M86.8732 671.915H75.1482V678.88C75.6382 678.227 76.3616 677.678 77.3182 677.235C78.2982 676.792 79.3366 676.57 80.4332 676.57C82.3932 676.57 83.9799 676.99 85.1932 677.83C86.4299 678.67 87.3049 679.732 87.8182 681.015C88.3549 682.298 88.6232 683.652 88.6232 685.075C88.6232 686.802 88.2849 688.342 87.6082 689.695C86.9549 691.025 85.9632 692.075 84.6332 692.845C83.3266 693.615 81.7166 694 79.8032 694C77.2599 694 75.2182 693.37 73.6782 692.11C72.1382 690.85 71.2166 689.182 70.9132 687.105H74.7982C75.0549 688.202 75.6266 689.077 76.5132 689.73C77.3999 690.36 78.5082 690.675 79.8382 690.675C81.4949 690.675 82.7316 690.173 83.5482 689.17C84.3882 688.167 84.8082 686.837 84.8082 685.18C84.8082 683.5 84.3882 682.217 83.5482 681.33C82.7082 680.42 81.4716 679.965 79.8382 679.965C78.6949 679.965 77.7266 680.257 76.9332 680.84C76.1632 681.4 75.6032 682.17 75.2532 683.15H71.4732V668.415H86.8732V671.915Z"
          fill={showRyanValue ? '#FF0000' : ''}
        />

        {/* Lea */}
        <circle
          className={
            showLeaCollapse
              ? 'lea collapse'
              : showLeaAnimation
              ? 'lea animate'
              : 'lea'
          }
          cx="437.5"
          cy="79.5"
          r="78"
          fill="white"
          stroke="black"
          strokeWidth="3"
        />
        <path
          d="M412.678 68.78H420.903V72H408.688V47.675H412.678V68.78ZM441.915 61.885C441.915 62.6083 441.868 63.2617 441.775 63.845H427.04C427.156 65.385 427.728 66.6217 428.755 67.555C429.781 68.4883 431.041 68.955 432.535 68.955C434.681 68.955 436.198 68.0567 437.085 66.26H441.39C440.806 68.0333 439.745 69.4917 438.205 70.635C436.688 71.755 434.798 72.315 432.535 72.315C430.691 72.315 429.035 71.9067 427.565 71.09C426.118 70.25 424.975 69.0833 424.135 67.59C423.318 66.0733 422.91 64.3233 422.91 62.34C422.91 60.3567 423.306 58.6183 424.1 57.125C424.916 55.6083 426.048 54.4417 427.495 53.625C428.965 52.8083 430.645 52.4 432.535 52.4C434.355 52.4 435.976 52.7967 437.4 53.59C438.823 54.3833 439.931 55.5033 440.725 56.95C441.518 58.3733 441.915 60.0183 441.915 61.885ZM437.75 60.625C437.726 59.155 437.201 57.9767 436.175 57.09C435.148 56.2033 433.876 55.76 432.36 55.76C430.983 55.76 429.805 56.2033 428.825 57.09C427.845 57.9533 427.261 59.1317 427.075 60.625H437.75ZM444.511 62.27C444.511 60.3333 444.908 58.6183 445.701 57.125C446.518 55.6317 447.615 54.4767 448.991 53.66C450.391 52.82 451.931 52.4 453.611 52.4C455.128 52.4 456.446 52.7033 457.566 53.31C458.71 53.8933 459.62 54.6283 460.296 55.515V52.715H464.321V72H460.296V69.13C459.62 70.04 458.698 70.7983 457.531 71.405C456.365 72.0117 455.035 72.315 453.541 72.315C451.885 72.315 450.368 71.895 448.991 71.055C447.615 70.1917 446.518 69.0017 445.701 67.485C444.908 65.945 444.511 64.2067 444.511 62.27ZM460.296 62.34C460.296 61.01 460.016 59.855 459.456 58.875C458.92 57.895 458.208 57.1483 457.321 56.635C456.435 56.1217 455.478 55.865 454.451 55.865C453.425 55.865 452.468 56.1217 451.581 56.635C450.695 57.125 449.971 57.86 449.411 58.84C448.875 59.7967 448.606 60.94 448.606 62.27C448.606 63.6 448.875 64.7667 449.411 65.77C449.971 66.7733 450.695 67.5433 451.581 68.08C452.491 68.5933 453.448 68.85 454.451 68.85C455.478 68.85 456.435 68.5933 457.321 68.08C458.208 67.5667 458.92 66.82 459.456 65.84C460.016 64.8367 460.296 63.67 460.296 62.34ZM420.746 103.125V99.485H428.026V125H424.001V103.125H420.746ZM433.507 111.91C433.507 107.873 434.184 104.723 435.537 102.46C436.914 100.173 439.271 99.03 442.607 99.03C445.944 99.03 448.289 100.173 449.642 102.46C451.019 104.723 451.707 107.873 451.707 111.91C451.707 115.993 451.019 119.19 449.642 121.5C448.289 123.787 445.944 124.93 442.607 124.93C439.271 124.93 436.914 123.787 435.537 121.5C434.184 119.19 433.507 115.993 433.507 111.91ZM447.787 111.91C447.787 110.02 447.659 108.422 447.402 107.115C447.169 105.808 446.679 104.747 445.932 103.93C445.186 103.09 444.077 102.67 442.607 102.67C441.137 102.67 440.029 103.09 439.282 103.93C438.536 104.747 438.034 105.808 437.777 107.115C437.544 108.422 437.427 110.02 437.427 111.91C437.427 113.87 437.544 115.515 437.777 116.845C438.011 118.175 438.501 119.248 439.247 120.065C440.017 120.882 441.137 121.29 442.607 121.29C444.077 121.29 445.186 120.882 445.932 120.065C446.702 119.248 447.204 118.175 447.437 116.845C447.671 115.515 447.787 113.87 447.787 111.91Z"
          fill="black"
        />
        <path
          d="M415.671 196.68V193.67L427.431 176.8H432.261V193.215H435.516V196.68H432.261V202H428.341V196.68H415.671ZM428.516 180.86L420.256 193.215H428.516V180.86ZM443.792 195.07C444.026 196.237 444.527 197.123 445.297 197.73C446.067 198.337 447.106 198.64 448.412 198.64C450.069 198.64 451.282 197.987 452.052 196.68C452.822 195.373 453.207 193.145 453.207 189.995C452.647 190.788 451.854 191.407 450.827 191.85C449.824 192.27 448.727 192.48 447.537 192.48C446.021 192.48 444.644 192.177 443.407 191.57C442.171 190.94 441.191 190.018 440.467 188.805C439.767 187.568 439.417 186.075 439.417 184.325C439.417 181.758 440.164 179.717 441.657 178.2C443.174 176.66 445.251 175.89 447.887 175.89C451.061 175.89 453.312 176.952 454.642 179.075C455.996 181.175 456.672 184.407 456.672 188.77C456.672 191.78 456.416 194.242 455.902 196.155C455.412 198.068 454.549 199.515 453.312 200.495C452.076 201.475 450.361 201.965 448.167 201.965C445.671 201.965 443.746 201.312 442.392 200.005C441.039 198.698 440.281 197.053 440.117 195.07H443.792ZM448.237 189.12C449.637 189.12 450.734 188.688 451.527 187.825C452.344 186.938 452.752 185.772 452.752 184.325C452.752 182.715 452.321 181.467 451.457 180.58C450.617 179.67 449.462 179.215 447.992 179.215C446.522 179.215 445.356 179.682 444.492 180.615C443.652 181.525 443.232 182.727 443.232 184.22C443.232 185.643 443.641 186.822 444.457 187.755C445.297 188.665 446.557 189.12 448.237 189.12Z"
          fill={showLeaValue ? '#FF0000' : ''}
        />

        {/* Jane-Null */}
        <path
          className={showJaneNull ? 'jane-null animate-line' : 'jane-null'}
          d="M719 373L786 495"
          stroke="black"
          strokeWidth="3"
        />

        {/* Jane-Sam */}
        <path
          className={showJaneSam ? 'jane-sam animate-line' : 'jane-sam'}
          d="M612 374L545 494"
          stroke="black"
          strokeWidth="3"
        />

        {/* LEA-JANE */}
        <path
          className={showLeaJane ? 'lea-jane animate-line' : 'lea-jane'}
          d="M500 124L619 252"
          stroke="black"
          strokeWidth="3"
        />

        {/* LEA-MAY */}
        <path
          className={showLeaMay ? 'lea-may animate-line' : 'lea-may'}
          d="M375 127L258 253"
          stroke="black"
          strokeWidth="3"
        />

        {/* MAY-RYAN */}
        <path
          className={showMayRyan ? 'may-ryan animate-line' : 'may-ryan'}
          d="M158 373L90 494"
          stroke="black"
          strokeWidth="3"
        />

        {/* MAY-NULL */}
        <path
          className={showMayNull ? 'may-null animate-line' : 'may-null'}
          d="M264 373L330 495"
          stroke="black"
          strokeWidth="3"
        />
      </svg>
      <br />
      <br />
      {showAnimationButton && (
        <button className="khan-check-button" onClick={animateSVG}>
          Play
        </button>
      )}
    </div>
  );
}

export default DiningTree;
