import { useState } from 'react';
import Jane from '../../assets/dining_guests/Jane.png';
import Lea from '../../assets/dining_guests/Lea.png';
import May from '../../assets/dining_guests/May.png';
import Ryan from '../../assets/dining_guests/Ryan.png';
import Sam from '../../assets/dining_guests/Sam.png';
import '../../styles/DiningTree.scss';

function DiningTree(): JSX.Element {
  const [showAnimationButton, setShowAnimationButton] = useState(true);
  // States for each node and value
  const [showLeaAnimation, setShowLeaAnimation] = useState(false);
  const [showLeaCollapse, setShowLeaCollapse] = useState(false);
  const [showLeaMay, setShowLeaMay] = useState(false);
  const [showLeaJane, setShowLeaJane] = useState(false);
  const [showLeaValue, setShowLeaValue] = useState(true);

  const [showMayAnimation, setShowMayAnimation] = useState(false);
  const [showMayCollapse, setShowMayCollapse] = useState(false);
  const [showMayRyan, setShowMayRyan] = useState(false);
  const [showMayNull, setShowMayNull] = useState(false);
  const [showMayValue, setShowMayValue] = useState(true);

  const [showRyanAnimation, setShowRyanAnimation] = useState(false);
  const [showRyanCollapse, setShowRyanCollapse] = useState(false);
  const [showRyanValue, setShowRyanValue] = useState(true);

  const [showLeftNull, setShowLeftNull] = useState(false);
  const [showLeftNullCollapse, setShowLeftNullCollapse] = useState(false);
  const [showLeftNullValue, setShowLeftNullValue] = useState(true);

  const [showJaneAnimation, setShowJaneAnimation] = useState(false);
  const [showJaneCollapse, setShowJaneCollapse] = useState(false);
  const [showJaneSam, setShowJaneSam] = useState(false);
  const [showJaneValue, setShowJaneValue] = useState(true);

  const [showSamAnimation, setShowSamAnimation] = useState(false);
  const [showSamCollapse, setShowSamCollapse] = useState(false);
  const [showJaneNull, setShowJaneNull] = useState(false);
  const [showSamValue, setShowSamValue] = useState(true);

  const [showRightNull, setShowRightNull] = useState(false);
  const [showRightNullCollapse, setShowRightNullCollapse] = useState(false);
  const [showRightNullValue, setShowRightNullValue] = useState(true);

  class Friend {
    minutes: number;
    name: string;
    imageUrl: string;
    left: Friend | null;
    right: Friend | null;

    constructor(
      minutes: number,
      name: string,
      imageUrl: string,
      left: Friend | null = null,
      right: Friend | null = null
    ) {
      this.minutes = minutes;
      this.name = name;
      this.imageUrl = imageUrl;
      this.left = left;
      this.right = right;
    }
  }

  // class Tree {
  //     people: (Friend | null)[];
  //     root: (Friend | null);

  //     constructor(
  //         people: (Friend | null)[] = [],
  //         root: (Friend | null)
  //     ) {
  //         this.people = people;
  //         this.root = root;
  //     }
  // }

  //Friends array
  const friends: Friend[] = [
    new Friend(10, 'Lea', Lea), //0
    new Friend(7, 'May', May), // 1
    new Friend(15, 'Jane', Jane), //2
    new Friend(5, 'Ryan', Ryan), //3
    new Friend(12, 'Sam', Sam), // 4
  ];

  // Set relationships
  friends[0].left = friends[1];
  friends[0].right = friends[2];
  friends[1].left = friends[3];
  friends[1].right = null;
  friends[2].left = friends[4];
  friends[2].right = null;
  friends[3].left = null;
  friends[3].right = null;
  friends[4].left = null;
  friends[4].right = null;

  // const postOrderSum = (Friend: (Friend | null)):number => {

  //     if (Friend === null) {
  //         return 0;
  //     }
  //         const leftMinutes = postOrderSum(Friend.left);
  //         const rightMinutes = postOrderSum(Friend.right);
  //         return leftMinutes + rightMinutes + Friend.minutes;
  //     };

  // All nodes collapse at the start of the animation
  const collapseNodes = () => {
    setShowLeaCollapse(!showLeaCollapse);
    setShowLeaValue(false);
    setShowMayCollapse(!showMayCollapse);
    setShowMayValue(false);
    setShowRyanCollapse(!showRyanCollapse);
    setShowRyanValue(false);
    setShowLeftNullCollapse(!showLeftNullCollapse);
    setShowLeftNullValue(false);
    setShowJaneCollapse(!showJaneCollapse);
    setShowJaneValue(false);
    setShowSamCollapse(!showSamCollapse);
    setShowSamValue(false);
    setShowRightNullCollapse(!showRightNullCollapse);
    setShowRightNullValue(false);
  };

  const animateSVG = () => {
    setShowAnimationButton(!showAnimationButton);
    collapseNodes();
    setTimeout(() => {
      setShowLeaCollapse(false);
    }, 800);
    setShowLeaCollapse(false);
    setShowLeaAnimation(!showLeaAnimation);
    setTimeout(() => {
      setShowLeaMay(!showLeaMay);
    }, 1200); // Adjust the delay as needed
    setTimeout(() => {
      setShowMayCollapse(false);
      setShowMayAnimation(!showMayAnimation);
    }, 1400);
    setTimeout(() => {
      setShowMayRyan(!showMayRyan);
    }, 2200);
    setTimeout(() => {
      setShowRyanCollapse(false);
      setShowRyanAnimation(!showRyanAnimation);
      setShowRyanValue(true);
      setTimeout(() => {
        setShowRyanAnimation(false);
      }, 1500);
      setTimeout(() => {
        setShowMayRyan(false);
      }, 2800);
    }, 2800);
    setTimeout(() => {
      setShowMayNull(!showMayNull);
    }, 6000);
    setTimeout(() => {
      setShowLeftNullCollapse(false);
      setShowLeftNull(!showLeftNull);
      setShowLeftNullValue(true);
      setTimeout(() => {
        setShowLeftNull(false);
      }, 1500);
      setTimeout(() => {
        setShowMayNull(false);
        setShowMayValue(true);
      }, 2000);
      setTimeout(() => {
        setShowMayAnimation(false);
      }, 2500);
      setTimeout(() => {
        setShowLeaMay(false);
      }, 3000);
    }, 6400);
    setTimeout(() => {
      setShowLeaJane(!showLeaJane);
    }, 9800);
    setTimeout(() => {
      setShowJaneCollapse(false);
      setShowJaneAnimation(!showJaneAnimation);
    }, 10000);
    setTimeout(() => {
      setShowJaneSam(!showLeaJane);
    }, 11000);
    setTimeout(() => {
      setShowSamCollapse(false);
      setShowSamAnimation(!showSamAnimation);
      setShowSamValue(true);
      setTimeout(() => {
        setShowSamAnimation(false);
      }, 1500);
      setTimeout(() => {
        setShowJaneSam(false);
      }, 2100);
    }, 11200);
    setTimeout(() => {
      setShowJaneNull(!showJaneNull);
    }, 13800);
    setTimeout(() => {
      setShowRightNullCollapse(false);
      setShowRightNull(!showRightNull);
      setShowRightNullValue(true);
      setTimeout(() => {
        setShowRightNull(false);
      }, 1500);
      setTimeout(() => {
        setShowJaneNull(false);
      }, 2600);
      setTimeout(() => {
        setShowJaneValue(true);
      }, 3000);
      setTimeout(() => {
        setShowJaneAnimation(false);
      }, 3600);
      setTimeout(() => {
        setShowLeaJane(false);
      }, 4000);
      setTimeout(() => {
        setShowLeaValue(true);
      }, 4500);
      setTimeout(() => {
        setShowLeaAnimation(false);
        setShowAnimationButton(true);
      }, 4800);
    }, 14000);
  };
  return (
    <div>
      <svg
        width="800"
        height="400"
        viewBox="0 0 885 694"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        {/* JANE */}
        <circle
          className={
            showJaneCollapse
              ? 'jane collapse'
              : showJaneAnimation
              ? 'jane animate'
              : 'jane'
          }
          cx="665.5"
          cy="315.5"
          r="78"
          fill="white"
          stroke="black"
          strokeWidth="3"
        />
        <path
          className={'Jane-text'}
          d="M637.486 306.675V324.21C637.486 326.38 636.821 328.095 635.491 329.355C634.184 330.615 632.458 331.245 630.311 331.245C628.164 331.245 626.426 330.615 625.096 329.355C623.789 328.095 623.136 326.38 623.136 324.21H627.161C627.184 325.283 627.453 326.135 627.966 326.765C628.503 327.395 629.284 327.71 630.311 327.71C631.338 327.71 632.119 327.395 632.656 326.765C633.193 326.112 633.461 325.26 633.461 324.21V306.675H637.486ZM642.647 321.27C642.647 319.333 643.044 317.618 643.837 316.125C644.654 314.632 645.75 313.477 647.127 312.66C648.527 311.82 650.067 311.4 651.747 311.4C653.264 311.4 654.582 311.703 655.702 312.31C656.845 312.893 657.755 313.628 658.432 314.515V311.715H662.457V331H658.432V328.13C657.755 329.04 656.834 329.798 655.667 330.405C654.5 331.012 653.17 331.315 651.677 331.315C650.02 331.315 648.504 330.895 647.127 330.055C645.75 329.192 644.654 328.002 643.837 326.485C643.044 324.945 642.647 323.207 642.647 321.27ZM658.432 321.34C658.432 320.01 658.152 318.855 657.592 317.875C657.055 316.895 656.344 316.148 655.457 315.635C654.57 315.122 653.614 314.865 652.587 314.865C651.56 314.865 650.604 315.122 649.717 315.635C648.83 316.125 648.107 316.86 647.547 317.84C647.01 318.797 646.742 319.94 646.742 321.27C646.742 322.6 647.01 323.767 647.547 324.77C648.107 325.773 648.83 326.543 649.717 327.08C650.627 327.593 651.584 327.85 652.587 327.85C653.614 327.85 654.57 327.593 655.457 327.08C656.344 326.567 657.055 325.82 657.592 324.84C658.152 323.837 658.432 322.67 658.432 321.34ZM677.428 311.4C678.944 311.4 680.298 311.715 681.488 312.345C682.701 312.975 683.646 313.908 684.323 315.145C684.999 316.382 685.338 317.875 685.338 319.625V331H681.383V320.22C681.383 318.493 680.951 317.175 680.088 316.265C679.224 315.332 678.046 314.865 676.553 314.865C675.059 314.865 673.869 315.332 672.983 316.265C672.119 317.175 671.688 318.493 671.688 320.22V331H667.698V311.715H671.688V313.92C672.341 313.127 673.169 312.508 674.173 312.065C675.199 311.622 676.284 311.4 677.428 311.4ZM708.102 320.885C708.102 321.608 708.055 322.262 707.962 322.845H693.227C693.344 324.385 693.915 325.622 694.942 326.555C695.969 327.488 697.229 327.955 698.722 327.955C700.869 327.955 702.385 327.057 703.272 325.26H707.577C706.994 327.033 705.932 328.492 704.392 329.635C702.875 330.755 700.985 331.315 698.722 331.315C696.879 331.315 695.222 330.907 693.752 330.09C692.305 329.25 691.162 328.083 690.322 326.59C689.505 325.073 689.097 323.323 689.097 321.34C689.097 319.357 689.494 317.618 690.287 316.125C691.104 314.608 692.235 313.442 693.682 312.625C695.152 311.808 696.832 311.4 698.722 311.4C700.542 311.4 702.164 311.797 703.587 312.59C705.01 313.383 706.119 314.503 706.912 315.95C707.705 317.373 708.102 319.018 708.102 320.885ZM703.937 319.625C703.914 318.155 703.389 316.977 702.362 316.09C701.335 315.203 700.064 314.76 698.547 314.76C697.17 314.76 695.992 315.203 695.012 316.09C694.032 316.953 693.449 318.132 693.262 319.625H703.937Z"
          fill="black"
        />
        <path
          className={'Jane-value'}
          d="M648.78 416.125V412.485H656.06V438H652.035V416.125H648.78ZM677.991 415.915H666.266V422.88C666.756 422.227 667.48 421.678 668.436 421.235C669.416 420.792 670.455 420.57 671.551 420.57C673.511 420.57 675.098 420.99 676.311 421.83C677.548 422.67 678.423 423.732 678.936 425.015C679.473 426.298 679.741 427.652 679.741 429.075C679.741 430.802 679.403 432.342 678.726 433.695C678.073 435.025 677.081 436.075 675.751 436.845C674.445 437.615 672.835 438 670.921 438C668.378 438 666.336 437.37 664.796 436.11C663.256 434.85 662.335 433.182 662.031 431.105H665.916C666.173 432.202 666.745 433.077 667.631 433.73C668.518 434.36 669.626 434.675 670.956 434.675C672.613 434.675 673.85 434.173 674.666 433.17C675.506 432.167 675.926 430.837 675.926 429.18C675.926 427.5 675.506 426.217 674.666 425.33C673.826 424.42 672.59 423.965 670.956 423.965C669.813 423.965 668.845 424.257 668.051 424.84C667.281 425.4 666.721 426.17 666.371 427.15H662.591V412.415H677.991V415.915Z"
          fill={showJaneValue ? '#FF0000' : ''}
        />

        {/* LEFT NULL */}
        <circle
          className={
            showLeftNullCollapse
              ? 'left-null collapse'
              : showLeftNull
              ? 'left-null animate'
              : 'left-null'
          }
          cx="349.5"
          cy="571.5"
          r="78"
          fill="black"
          stroke="black"
          strokeWidth="3"
        />
        <path
          d="M331.863 587H327.873L315.868 568.835V587H311.878V562.64H315.868L327.873 580.77V562.64H331.863V587ZM341.058 562.675V578.18C341.058 580.023 341.536 581.412 342.493 582.345C343.473 583.278 344.826 583.745 346.553 583.745C348.303 583.745 349.656 583.278 350.613 582.345C351.593 581.412 352.083 580.023 352.083 578.18V562.675H356.073V578.11C356.073 580.093 355.641 581.773 354.778 583.15C353.915 584.527 352.76 585.553 351.313 586.23C349.866 586.907 348.268 587.245 346.518 587.245C344.768 587.245 343.17 586.907 341.723 586.23C340.3 585.553 339.168 584.527 338.328 583.15C337.488 581.773 337.068 580.093 337.068 578.11V562.675H341.058ZM365.258 583.78H373.483V587H361.268V562.675H365.258V583.78ZM380.81 583.78H389.035V587H376.82V562.675H380.81V583.78Z"
          fill="white"
        />
        <path
          d="M795.389 680.91C795.389 676.873 796.066 673.723 797.419 671.46C798.796 669.173 801.152 668.03 804.489 668.03C807.826 668.03 810.171 669.173 811.524 671.46C812.901 673.723 813.589 676.873 813.589 680.91C813.589 684.993 812.901 688.19 811.524 690.5C810.171 692.787 807.826 693.93 804.489 693.93C801.152 693.93 798.796 692.787 797.419 690.5C796.066 688.19 795.389 684.993 795.389 680.91ZM809.669 680.91C809.669 679.02 809.541 677.422 809.284 676.115C809.051 674.808 808.561 673.747 807.814 672.93C807.067 672.09 805.959 671.67 804.489 671.67C803.019 671.67 801.911 672.09 801.164 672.93C800.417 673.747 799.916 674.808 799.659 676.115C799.426 677.422 799.309 679.02 799.309 680.91C799.309 682.87 799.426 684.515 799.659 685.845C799.892 687.175 800.382 688.248 801.129 689.065C801.899 689.882 803.019 690.29 804.489 690.29C805.959 690.29 807.067 689.882 807.814 689.065C808.584 688.248 809.086 687.175 809.319 685.845C809.552 684.515 809.669 682.87 809.669 680.91Z"
          fill={showRightNullValue ? '#FF0000' : ''}
        />

        {/* Right Null */}
        <circle
          className={
            showRightNullCollapse
              ? 'right-null collapse'
              : showRightNull
              ? 'right-null animate'
              : 'Right-Null'
          }
          cx="805.5"
          cy="571.5"
          r="78"
          fill="black"
          stroke="black"
          strokeWidth="3"
        />
        <path
          d="M787.863 587H783.873L771.868 568.835V587H767.878V562.64H771.868L783.873 580.77V562.64H787.863V587ZM797.058 562.675V578.18C797.058 580.023 797.536 581.412 798.493 582.345C799.473 583.278 800.826 583.745 802.553 583.745C804.303 583.745 805.656 583.278 806.613 582.345C807.593 581.412 808.083 580.023 808.083 578.18V562.675H812.073V578.11C812.073 580.093 811.641 581.773 810.778 583.15C809.915 584.527 808.76 585.553 807.313 586.23C805.866 586.907 804.268 587.245 802.518 587.245C800.768 587.245 799.17 586.907 797.723 586.23C796.3 585.553 795.168 584.527 794.328 583.15C793.488 581.773 793.068 580.093 793.068 578.11V562.675H797.058ZM821.258 583.78H829.483V587H817.268V562.675H821.258V583.78ZM836.81 583.78H845.035V587H832.82V562.675H836.81V583.78Z"
          fill="white"
        />
        <path
          d="M339.389 680.91C339.389 676.873 340.066 673.723 341.419 671.46C342.796 669.173 345.152 668.03 348.489 668.03C351.826 668.03 354.171 669.173 355.524 671.46C356.901 673.723 357.589 676.873 357.589 680.91C357.589 684.993 356.901 688.19 355.524 690.5C354.171 692.787 351.826 693.93 348.489 693.93C345.152 693.93 342.796 692.787 341.419 690.5C340.066 688.19 339.389 684.993 339.389 680.91ZM353.669 680.91C353.669 679.02 353.541 677.422 353.284 676.115C353.051 674.808 352.561 673.747 351.814 672.93C351.067 672.09 349.959 671.67 348.489 671.67C347.019 671.67 345.911 672.09 345.164 672.93C344.417 673.747 343.916 674.808 343.659 676.115C343.426 677.422 343.309 679.02 343.309 680.91C343.309 682.87 343.426 684.515 343.659 685.845C343.892 687.175 344.382 688.248 345.129 689.065C345.899 689.882 347.019 690.29 348.489 690.29C349.959 690.29 351.067 689.882 351.814 689.065C352.584 688.248 353.086 687.175 353.319 685.845C353.552 684.515 353.669 682.87 353.669 680.91Z"
          fill={showLeftNullValue ? '#FF0000' : ''}
        />

        {/* SAM */}
        <circle
          className={
            showSamCollapse
              ? 'sam collapse'
              : showSamAnimation
              ? 'sam animate'
              : 'sam'
          }
          cx="535.5"
          cy="571.5"
          r="78"
          fill="white"
          stroke="black"
          strokeWidth="3"
        />
        <path
          d="M505.534 587.245C503.901 587.245 502.431 586.965 501.124 586.405C499.818 585.822 498.791 585.005 498.044 583.955C497.298 582.905 496.924 581.68 496.924 580.28H501.194C501.288 581.33 501.696 582.193 502.419 582.87C503.166 583.547 504.204 583.885 505.534 583.885C506.911 583.885 507.984 583.558 508.754 582.905C509.524 582.228 509.909 581.365 509.909 580.315C509.909 579.498 509.664 578.833 509.174 578.32C508.708 577.807 508.113 577.41 507.389 577.13C506.689 576.85 505.709 576.547 504.449 576.22C502.863 575.8 501.568 575.38 500.564 574.96C499.584 574.517 498.744 573.84 498.044 572.93C497.344 572.02 496.994 570.807 496.994 569.29C496.994 567.89 497.344 566.665 498.044 565.615C498.744 564.565 499.724 563.76 500.984 563.2C502.244 562.64 503.703 562.36 505.359 562.36C507.716 562.36 509.641 562.955 511.134 564.145C512.651 565.312 513.491 566.922 513.654 568.975H509.244C509.174 568.088 508.754 567.33 507.984 566.7C507.214 566.07 506.199 565.755 504.939 565.755C503.796 565.755 502.863 566.047 502.139 566.63C501.416 567.213 501.054 568.053 501.054 569.15C501.054 569.897 501.276 570.515 501.719 571.005C502.186 571.472 502.769 571.845 503.469 572.125C504.169 572.405 505.126 572.708 506.339 573.035C507.949 573.478 509.256 573.922 510.259 574.365C511.286 574.808 512.149 575.497 512.849 576.43C513.573 577.34 513.934 578.565 513.934 580.105C513.934 581.342 513.596 582.508 512.919 583.605C512.266 584.702 511.298 585.588 510.014 586.265C508.754 586.918 507.261 587.245 505.534 587.245ZM517.313 577.27C517.313 575.333 517.709 573.618 518.503 572.125C519.319 570.632 520.416 569.477 521.793 568.66C523.193 567.82 524.733 567.4 526.413 567.4C527.929 567.4 529.248 567.703 530.368 568.31C531.511 568.893 532.421 569.628 533.098 570.515V567.715H537.123V587H533.098V584.13C532.421 585.04 531.499 585.798 530.333 586.405C529.166 587.012 527.836 587.315 526.343 587.315C524.686 587.315 523.169 586.895 521.793 586.055C520.416 585.192 519.319 584.002 518.503 582.485C517.709 580.945 517.313 579.207 517.313 577.27ZM533.098 577.34C533.098 576.01 532.818 574.855 532.258 573.875C531.721 572.895 531.009 572.148 530.123 571.635C529.236 571.122 528.279 570.865 527.253 570.865C526.226 570.865 525.269 571.122 524.383 571.635C523.496 572.125 522.773 572.86 522.213 573.84C521.676 574.797 521.408 575.94 521.408 577.27C521.408 578.6 521.676 579.767 522.213 580.77C522.773 581.773 523.496 582.543 524.383 583.08C525.293 583.593 526.249 583.85 527.253 583.85C528.279 583.85 529.236 583.593 530.123 583.08C531.009 582.567 531.721 581.82 532.258 580.84C532.818 579.837 533.098 578.67 533.098 577.34ZM565.708 567.4C567.225 567.4 568.578 567.715 569.768 568.345C570.982 568.975 571.927 569.908 572.603 571.145C573.303 572.382 573.653 573.875 573.653 575.625V587H569.698V576.22C569.698 574.493 569.267 573.175 568.403 572.265C567.54 571.332 566.362 570.865 564.868 570.865C563.375 570.865 562.185 571.332 561.298 572.265C560.435 573.175 560.003 574.493 560.003 576.22V587H556.048V576.22C556.048 574.493 555.617 573.175 554.753 572.265C553.89 571.332 552.712 570.865 551.218 570.865C549.725 570.865 548.535 571.332 547.648 572.265C546.785 573.175 546.353 574.493 546.353 576.22V587H542.363V567.715H546.353V569.92C547.007 569.127 547.835 568.508 548.838 568.065C549.842 567.622 550.915 567.4 552.058 567.4C553.598 567.4 554.975 567.727 556.188 568.38C557.402 569.033 558.335 569.978 558.988 571.215C559.572 570.048 560.482 569.127 561.718 568.45C562.955 567.75 564.285 567.4 565.708 567.4Z"
          fill="black"
        />
        <path
          d="M519.857 672.125V668.485H527.137V694H523.112V672.125H519.857ZM534.823 688.575C537.063 686.638 538.825 685.052 540.108 683.815C541.415 682.555 542.5 681.248 543.363 679.895C544.226 678.542 544.658 677.188 544.658 675.835C544.658 674.435 544.32 673.338 543.643 672.545C542.99 671.752 541.951 671.355 540.528 671.355C539.151 671.355 538.078 671.798 537.308 672.685C536.561 673.548 536.165 674.715 536.118 676.185H532.268C532.338 673.525 533.131 671.495 534.648 670.095C536.188 668.672 538.136 667.96 540.493 667.96C543.036 667.96 545.02 668.66 546.443 670.06C547.89 671.46 548.613 673.327 548.613 675.66C548.613 677.34 548.181 678.962 547.318 680.525C546.478 682.065 545.463 683.453 544.273 684.69C543.106 685.903 541.613 687.315 539.793 688.925L538.218 690.325H549.313V693.65H532.303V690.745L534.823 688.575Z"
          fill={showSamValue ? '#FF0000' : ''}
        />

        {/* MAY */}
        <circle
          className={
            showMayCollapse
              ? 'may collapse'
              : showMayAnimation
              ? 'may animate'
              : 'may'
          }
          cx="210.5"
          cy="315.5"
          r="78"
          fill="white"
          stroke="black"
          strokeWidth="3"
        />
        <path
          d="M201.267 306.675V331H197.277V314.34L189.857 331H187.092L179.637 314.34V331H175.647V306.675H179.952L188.492 325.75L196.997 306.675H201.267ZM205.181 321.27C205.181 319.333 205.578 317.618 206.371 316.125C207.188 314.632 208.285 313.477 209.661 312.66C211.061 311.82 212.601 311.4 214.281 311.4C215.798 311.4 217.116 311.703 218.236 312.31C219.38 312.893 220.29 313.628 220.966 314.515V311.715H224.991V331H220.966V328.13C220.29 329.04 219.368 329.798 218.201 330.405C217.035 331.012 215.705 331.315 214.211 331.315C212.555 331.315 211.038 330.895 209.661 330.055C208.285 329.192 207.188 328.002 206.371 326.485C205.578 324.945 205.181 323.207 205.181 321.27ZM220.966 321.34C220.966 320.01 220.686 318.855 220.126 317.875C219.59 316.895 218.878 316.148 217.991 315.635C217.105 315.122 216.148 314.865 215.121 314.865C214.095 314.865 213.138 315.122 212.251 315.635C211.365 316.125 210.641 316.86 210.081 317.84C209.545 318.797 209.276 319.94 209.276 321.27C209.276 322.6 209.545 323.767 210.081 324.77C210.641 325.773 211.365 326.543 212.251 327.08C213.161 327.593 214.118 327.85 215.121 327.85C216.148 327.85 217.105 327.593 217.991 327.08C218.878 326.567 219.59 325.82 220.126 324.84C220.686 323.837 220.966 322.67 220.966 321.34ZM247.592 311.715L235.762 340.065H231.632L235.552 330.685L227.957 311.715H232.402L237.827 326.415L243.462 311.715H247.592Z"
          fill="black"
        />
        <path
          d="M218.478 415.565L208.748 438H204.723L214.558 415.985H201.608V412.59H218.478V415.565Z"
          fill={showMayValue ? '#FF0000' : ''}
        />

        {/* Ryan */}
        <circle
          className={
            showRyanCollapse
              ? 'ryan collapse'
              : showRyanAnimation
              ? 'ryan animate'
              : 'ryan'
          }
          cx="79.5"
          cy="571.5"
          r="78"
          fill="white"
          stroke="black"
          strokeWidth="3"
        />
        <path
          d="M50.2922 587L44.6922 577.27H41.6472V587H37.6572V562.675H46.0572C47.9239 562.675 49.4989 563.002 50.7822 563.655C52.0889 564.308 53.0572 565.183 53.6872 566.28C54.3406 567.377 54.6672 568.602 54.6672 569.955C54.6672 571.542 54.2006 572.988 53.2672 574.295C52.3572 575.578 50.9456 576.453 49.0322 576.92L55.0522 587H50.2922ZM41.6472 574.085H46.0572C47.5506 574.085 48.6706 573.712 49.4172 572.965C50.1872 572.218 50.5722 571.215 50.5722 569.955C50.5722 568.695 50.1989 567.715 49.4522 567.015C48.7056 566.292 47.5739 565.93 46.0572 565.93H41.6472V574.085ZM77.1315 567.715L65.3015 596.065H61.1715L65.0915 586.685L57.4965 567.715H61.9415L67.3665 582.415L73.0015 567.715H77.1315ZM78.8126 577.27C78.8126 575.333 79.2092 573.618 80.0026 572.125C80.8192 570.632 81.9159 569.477 83.2926 568.66C84.6926 567.82 86.2326 567.4 87.9126 567.4C89.4292 567.4 90.7476 567.703 91.8676 568.31C93.0109 568.893 93.9209 569.628 94.5976 570.515V567.715H98.6226V587H94.5976V584.13C93.9209 585.04 92.9992 585.798 91.8326 586.405C90.6659 587.012 89.3359 587.315 87.8426 587.315C86.1859 587.315 84.6692 586.895 83.2926 586.055C81.9159 585.192 80.8192 584.002 80.0026 582.485C79.2092 580.945 78.8126 579.207 78.8126 577.27ZM94.5976 577.34C94.5976 576.01 94.3176 574.855 93.7576 573.875C93.2209 572.895 92.5092 572.148 91.6226 571.635C90.7359 571.122 89.7792 570.865 88.7526 570.865C87.7259 570.865 86.7692 571.122 85.8826 571.635C84.9959 572.125 84.2726 572.86 83.7126 573.84C83.1759 574.797 82.9076 575.94 82.9076 577.27C82.9076 578.6 83.1759 579.767 83.7126 580.77C84.2726 581.773 84.9959 582.543 85.8826 583.08C86.7926 583.593 87.7492 583.85 88.7526 583.85C89.7792 583.85 90.7359 583.593 91.6226 583.08C92.5092 582.567 93.2209 581.82 93.7576 580.84C94.3176 579.837 94.5976 578.67 94.5976 577.34ZM113.593 567.4C115.11 567.4 116.463 567.715 117.653 568.345C118.867 568.975 119.812 569.908 120.488 571.145C121.165 572.382 121.503 573.875 121.503 575.625V587H117.548V576.22C117.548 574.493 117.117 573.175 116.253 572.265C115.39 571.332 114.212 570.865 112.718 570.865C111.225 570.865 110.035 571.332 109.148 572.265C108.285 573.175 107.853 574.493 107.853 576.22V587H103.863V567.715H107.853V569.92C108.507 569.127 109.335 568.508 110.338 568.065C111.365 567.622 112.45 567.4 113.593 567.4Z"
          fill="black"
        />
        <path
          d="M86.8732 671.915H75.1482V678.88C75.6382 678.227 76.3616 677.678 77.3182 677.235C78.2982 676.792 79.3366 676.57 80.4332 676.57C82.3932 676.57 83.9799 676.99 85.1932 677.83C86.4299 678.67 87.3049 679.732 87.8182 681.015C88.3549 682.298 88.6232 683.652 88.6232 685.075C88.6232 686.802 88.2849 688.342 87.6082 689.695C86.9549 691.025 85.9632 692.075 84.6332 692.845C83.3266 693.615 81.7166 694 79.8032 694C77.2599 694 75.2182 693.37 73.6782 692.11C72.1382 690.85 71.2166 689.182 70.9132 687.105H74.7982C75.0549 688.202 75.6266 689.077 76.5132 689.73C77.3999 690.36 78.5082 690.675 79.8382 690.675C81.4949 690.675 82.7316 690.173 83.5482 689.17C84.3882 688.167 84.8082 686.837 84.8082 685.18C84.8082 683.5 84.3882 682.217 83.5482 681.33C82.7082 680.42 81.4716 679.965 79.8382 679.965C78.6949 679.965 77.7266 680.257 76.9332 680.84C76.1632 681.4 75.6032 682.17 75.2532 683.15H71.4732V668.415H86.8732V671.915Z"
          fill={showRyanValue ? '#FF0000' : ''}
        />

        {/* Lea */}
        <circle
          className={
            showLeaCollapse
              ? 'lea collapse'
              : showLeaAnimation
              ? 'lea animate'
              : 'lea'
          }
          cx="437.5"
          cy="79.5"
          r="78"
          fill="white"
          stroke="black"
          strokeWidth="3"
        />
        <path
          d="M413.678 91.78H421.903V95H409.688V70.675H413.678V91.78ZM442.915 84.885C442.915 85.6083 442.868 86.2617 442.775 86.845H428.04C428.156 88.385 428.728 89.6217 429.755 90.555C430.781 91.4883 432.041 91.955 433.535 91.955C435.681 91.955 437.198 91.0567 438.085 89.26H442.39C441.806 91.0333 440.745 92.4917 439.205 93.635C437.688 94.755 435.798 95.315 433.535 95.315C431.691 95.315 430.035 94.9067 428.565 94.09C427.118 93.25 425.975 92.0833 425.135 90.59C424.318 89.0733 423.91 87.3233 423.91 85.34C423.91 83.3567 424.306 81.6183 425.1 80.125C425.916 78.6083 427.048 77.4417 428.495 76.625C429.965 75.8083 431.645 75.4 433.535 75.4C435.355 75.4 436.976 75.7967 438.4 76.59C439.823 77.3833 440.931 78.5033 441.725 79.95C442.518 81.3733 442.915 83.0183 442.915 84.885ZM438.75 83.625C438.726 82.155 438.201 80.9767 437.175 80.09C436.148 79.2033 434.876 78.76 433.36 78.76C431.983 78.76 430.805 79.2033 429.825 80.09C428.845 80.9533 428.261 82.1317 428.075 83.625H438.75ZM445.511 85.27C445.511 83.3333 445.908 81.6183 446.701 80.125C447.518 78.6317 448.615 77.4767 449.991 76.66C451.391 75.82 452.931 75.4 454.611 75.4C456.128 75.4 457.446 75.7033 458.566 76.31C459.71 76.8933 460.62 77.6283 461.296 78.515V75.715H465.321V95H461.296V92.13C460.62 93.04 459.698 93.7983 458.531 94.405C457.365 95.0117 456.035 95.315 454.541 95.315C452.885 95.315 451.368 94.895 449.991 94.055C448.615 93.1917 447.518 92.0017 446.701 90.485C445.908 88.945 445.511 87.2067 445.511 85.27ZM461.296 85.34C461.296 84.01 461.016 82.855 460.456 81.875C459.92 80.895 459.208 80.1483 458.321 79.635C457.435 79.1217 456.478 78.865 455.451 78.865C454.425 78.865 453.468 79.1217 452.581 79.635C451.695 80.125 450.971 80.86 450.411 81.84C449.875 82.7967 449.606 83.94 449.606 85.27C449.606 86.6 449.875 87.7667 450.411 88.77C450.971 89.7733 451.695 90.5433 452.581 91.08C453.491 91.5933 454.448 91.85 455.451 91.85C456.478 91.85 457.435 91.5933 458.321 91.08C459.208 90.5667 459.92 89.82 460.456 88.84C461.016 87.8367 461.296 86.67 461.296 85.34Z"
          fill="black"
        />
        <path
          d="M420.746 180.125V176.485H428.026V202H424.001V180.125H420.746ZM433.507 188.91C433.507 184.873 434.184 181.723 435.537 179.46C436.914 177.173 439.271 176.03 442.607 176.03C445.944 176.03 448.289 177.173 449.642 179.46C451.019 181.723 451.707 184.873 451.707 188.91C451.707 192.993 451.019 196.19 449.642 198.5C448.289 200.787 445.944 201.93 442.607 201.93C439.271 201.93 436.914 200.787 435.537 198.5C434.184 196.19 433.507 192.993 433.507 188.91ZM447.787 188.91C447.787 187.02 447.659 185.422 447.402 184.115C447.169 182.808 446.679 181.747 445.932 180.93C445.186 180.09 444.077 179.67 442.607 179.67C441.137 179.67 440.029 180.09 439.282 180.93C438.536 181.747 438.034 182.808 437.777 184.115C437.544 185.422 437.427 187.02 437.427 188.91C437.427 190.87 437.544 192.515 437.777 193.845C438.011 195.175 438.501 196.248 439.247 197.065C440.017 197.882 441.137 198.29 442.607 198.29C444.077 198.29 445.186 197.882 445.932 197.065C446.702 196.248 447.204 195.175 447.437 193.845C447.671 192.515 447.787 190.87 447.787 188.91Z"
          fill={showLeaValue ? '#FF0000' : ''}
        />

        {/* Jane-Null */}
        <path
          className={showJaneNull ? 'jane-null animate-line' : 'jane-null'}
          d="M719 373L786 495"
          stroke="black"
          strokeWidth="3"
        />

        {/* Jane-Sam */}
        <path
          className={showJaneSam ? 'jane-sam animate-line' : 'jane-sam'}
          d="M612 374L545 494"
          stroke="black"
          strokeWidth="3"
        />

        {/* LEA-JANE */}
        <path
          className={showLeaJane ? 'lea-jane animate-line' : 'lea-jane'}
          d="M500 124L619 252"
          stroke="black"
          strokeWidth="3"
        />

        {/* LEA-MAY */}
        <path
          className={showLeaMay ? 'lea-may animate-line' : 'lea-may'}
          d="M375 127L258 253"
          stroke="black"
          strokeWidth="3"
        />

        {/* MAY-RYAN */}
        <path
          className={showMayRyan ? 'may-ryan animate-line' : 'may-ryan'}
          d="M158 373L90 494"
          stroke="black"
          strokeWidth="3"
        />

        {/* MAY-NULL */}
        <path
          className={showMayNull ? 'may-null animate-line' : 'may-null'}
          d="M264 373L330 495"
          stroke="black"
          strokeWidth="3"
        />
      </svg>

      {showAnimationButton && <button onClick={animateSVG}>Play</button>}
    </div>
  );
}

export default DiningTree;
